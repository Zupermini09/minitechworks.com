<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PC Builds ‚Äì MiniTechWorks</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="dark.css">
  <link rel="icon" href="/favicon.ico" />
  <meta name="description" content="Custom PC build quotes at MiniTechWorks." />
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-91ZW58C57G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-91ZW58C57G');
</script>
 
<body>
<header class="site-header">
  <div class="container header-inner">
    <a href="index.html" class="logo">
      <img src="favicon.png" class="logo-img" alt="Logo">
      <span class="logo-text">MiniTechWorks</span>
    </a>
    <nav class="nav">
      <a href="3d-print.html">3D Printing</a>
      <a href="pc-builds.html" class="active">PC Builds</a>
      <a href="wiki.html">Tutorials</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<main>
  <section class="section">
    <div class="container">
      <h1 class="section-title">Custom PC Build Requests</h1>
      <p>
        I offer custom PC build quotes based on your budget and needs.  
        I also maintain public recommended builds (low, mid, high end) for people who want easy options.
      </p>

      <h2 class="section-title small">What I offer</h2>
      <ul>
        <li><strong>Custom PC Build Quote</strong> ‚Äì A full breakdown of parts, build fee, and optional shipping.</li>
        <li><strong>Public Recommended Builds</strong> ‚Äì Pre-made PC configurations you can browse on the Tutorials/Wiki page.</li>
      </ul>

      <hr class="divider">
      
      <h2 class="section-title">Request a Custom Build Quote</h2>
      <p>Fill out the form below and I will reply to your email with the full breakdown.</p>

      <form id="pcForm" class="form">

        <label>Name</label>
        <input name="name" type="text" required>

        <label>Email</label>
        <input name="email" type="email" required>

        <label>Country</label>
        <select name="country" required>
          <option value="Norway">Norway</option>
          <option value="Sweden">Sweden</option>
          <option value="Denmark">Denmark</option>
          <option value="Finland">Finland</option>
        </select>

        <label>Street Address</label>
        <input name="street" type="text" placeholder="Street and house number" required>

        <label>Postcode</label>
        <input name="postcode" type="text" placeholder="Postcode" required>

        <label>City</label>
        <input name="city" type="text" placeholder="City" required>

        <label>Budget (NOK)</label>
        <input name="budget" type="number" min="1" required>

        <label>Color Theme</label>
        <input name="colors" type="text" placeholder="Black/white, RGB, stealth, etc.">

        <label>Preferences</label>
        <textarea name="preferences" placeholder="Brands, AMD/Intel, airflow, quiet build, etc."></textarea>

        <label>Notes</label>
        <textarea name="notes" placeholder="Games you play, editing, special needs, homelab, etc."></textarea>

        <!-- FIX: Added spacing above button -->
        <button type="submit" class="btn btn-primary" style="margin-top: 14px;">Send Request</button>
      </form>

      <p id="pcStatus" class="form-status"></p>
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <p>¬© <span id="year"></span> MiniTechWorks. Built by Mini.</p>
  </div>
</footer>

<script>
  const WEBHOOK_B64 =
    "aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQzOTI2NTc4MDcwODU0MDQxNi9GNjNGTG5FNTQzcXFiVHk2Q01UbEQybUh5SjF2djFadzFOQXBpTjJlbXFNUTQwLVJYOEJhVndxWTQ2dVBacEFFcDRBbg==";

  const WEBHOOK_URL = atob(WEBHOOK_B64);

  document.getElementById("pcForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const form = new FormData(e.target);
    const btn = e.target.querySelector("button");
    const status = document.getElementById("pcStatus");

    btn.disabled = true;
    status.textContent = "Sending...";

    const content =
      "üñ•Ô∏è **New PC Build Request ‚Äì MiniTechWorks**\n\n" +
      "**Name:** " + form.get("name") + "\n" +
      "**Email:** " + form.get("email") + "\n\n" +

      "**Shipping Address**\n" +
      "- " + form.get("country") + "\n" +
      "- " + form.get("street") + "\n" +
      "- " + form.get("postcode") + " " + form.get("city") + "\n\n" +

      "**Budget:** " + form.get("budget") + " NOK\n" +
      "**Colors:** " + (form.get("colors") || "N/A") + "\n" +
      "**Preferences:** " + (form.get("preferences") || "N/A") + "\n\n" +

      "**Notes:** " + (form.get("notes") || "N/A");
    
    try {
      await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content })
      });

      status.textContent = "Request sent! I‚Äôll reply to your email soon.";
      status.classList.add("success");
      e.target.reset();
    } catch {
      status.textContent = "Something went wrong!";
      status.classList.add("error");
    }

    btn.disabled = false;
  });
</script>

</body>
</html>
